#pragma checksum "C:\Users\user\Downloads\FinalProjectFirstTest\FinalProjectFirstTest\Views\Room_Condition\RoomCondition.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c784686fc35f7edf0315d953d0af025eff288a82"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Room_Condition_RoomCondition), @"mvc.1.0.view", @"/Views/Room_Condition/RoomCondition.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\user\Downloads\FinalProjectFirstTest\FinalProjectFirstTest\Views\_ViewImports.cshtml"
using FinalProjectFirstTest;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\user\Downloads\FinalProjectFirstTest\FinalProjectFirstTest\Views\_ViewImports.cshtml"
using FinalProjectFirstTest.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c784686fc35f7edf0315d953d0af025eff288a82", @"/Views/Room_Condition/RoomCondition.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"26ff9cc218848b295820657762e15fb616568996", @"/Views/_ViewImports.cshtml")]
    public class Views_Room_Condition_RoomCondition : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("v-for", new global::Microsoft.AspNetCore.Html.HtmlString("(item,index) of camplist.camping_Area_Name"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("v-bind:value", new global::Microsoft.AspNetCore.Html.HtmlString("index"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("v-for", new global::Microsoft.AspNetCore.Html.HtmlString("(item,index) of roomlist.room_Name"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("    \r\n\r\n\r\n<div id=\"ab\">\r\n\t<div class=\"form-group row\">\r\n\t\t<label for=\"selected\" class=\"col-sm-2 col-form-label\">露營區</label>\r\n\t\t<select v-model=\"selectcamp\" v-on:change=\"getallroom\">\r\n\t\t\t");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c784686fc35f7edf0315d953d0af025eff288a824829", async() => {
                WriteLiteral("Select your option");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            BeginWriteTagHelperAttribute();
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __tagHelperExecutionContext.AddHtmlAttribute("disabled", Html.Raw(__tagHelperStringValueBuffer), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.Minimized);
            BeginWriteTagHelperAttribute();
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __tagHelperExecutionContext.AddHtmlAttribute("selected", Html.Raw(__tagHelperStringValueBuffer), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.Minimized);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\t\t\t");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c784686fc35f7edf0315d953d0af025eff288a826628", async() => {
                WriteLiteral("\r\n\t\t\t\t{{ item }}\r\n\t\t\t");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\t\t</select>\r\n\t\t<span>Selected: {{ selectcamp }}</span>\r\n\t</div>\r\n\t<div class=\"form-group row\">\r\n\t\t<label for=\"selected\" class=\"col-sm-2 col-form-label\">房間</label>\r\n\t\t<select v-model=\"selectroom\"  v-on:change=\"getroomcondition\">\r\n\t\t\t");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c784686fc35f7edf0315d953d0af025eff288a828045", async() => {
                WriteLiteral("Select your option");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            BeginWriteTagHelperAttribute();
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __tagHelperExecutionContext.AddHtmlAttribute("disabled", Html.Raw(__tagHelperStringValueBuffer), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.Minimized);
            BeginWriteTagHelperAttribute();
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __tagHelperExecutionContext.AddHtmlAttribute("selected", Html.Raw(__tagHelperStringValueBuffer), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.Minimized);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\t\t\t");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c784686fc35f7edf0315d953d0af025eff288a829844", async() => {
                WriteLiteral("\r\n\t\t\t\t{{ item }}\r\n\t\t\t");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
		</select>
		<span>Selected: {{ selectroom }}</span>
	</div>
	<div width=""80%"" id=""calendar""></div>
</div>





<script>

var a = new Vue({
    el: '#ab',
    data: {
        camplist: {},
        roomlist: {},
        selectcamp: """",
        selectroom: """",
        getalldate: {},
        getremaining_amount: {},
        totalamount:0
	},
    methods: {
        getallroom: function () {
            var self = this;
            alert(self.camplist.camping_AreaId[self.selectcamp]);
			axios.get(""/Room_Condition/Get_Room/"" + self.camplist.camping_AreaId[self.selectcamp]).then(function (res) {
				self.roomlist = res.data;
				console.log(res.data);


			});
		},
        getroomcondition: function () {
			var self = this;
			var ev = [];
			var TodayDate;
			var d;
			var m;
			var y;
			var date;
			var dates = [];
			alert(self.roomlist.roomId[self.selectroom]);
			axios.get(""/Room_Condition/ListString/"" + self.roomlist.roomId[self.selectroom]).then(function (res)");
            WriteLiteral(@" {
                console.log(res.data);
                self.getalldate = res.data.getAllDate;
                console.log(self.getalldate);
				self.getremaining_amount = res.data.getRemaining_Amount;
                console.log(self.getremaining_amount);
				self.totalamount = res.data.total_Amount;
                console.log(self.totalamount);

				TodayDate = new Date(self.getalldate[0]);
				console.log(TodayDate);
				d = TodayDate.getDate();
				m = TodayDate.getMonth();
				y = TodayDate.getFullYear();
				ev = [];
				console.log(d, m, y);
				date = new Date(y, m, 1);
				console.log(date);
				dates = [];

				while (date.getMonth() === m) {
					dates.push(new Date(date).toLocaleDateString('en-CA'));
					date.setDate(date.getDate() + 1);
				}

				for (let s of dates) {
					let a = 1;
					self.getalldate.forEach((fulls, index) => {
						if (s === fulls) {
							ev.push({
								title: ""已"" + ((self.totalamount)-(self.getremaining_amount[index])) + ""筆訂購"",
			");
            WriteLiteral(@"					start: `${s}`,
								textColor:'black'
							});
							if (self.getremaining_amount[index] === 0) {
								ev.push({
									title: ""已滿"",
									start: `${s}`,
									color: '#F11717'
								});
							}
							else {
								ev.push({
									title: ""剩"" + self.getremaining_amount[index] + ""間"",
									start: `${s}`,
									color:'#D4D2D2'
								});
							}
							
							a = 0
						}



					})
					if (a != 0) {
						ev.push({
							title: ""未有人訂購"",
							start: `${s}`,
							textColor: 'black'
						});
						ev.push({
							title: ""剩"" + self.totalamount + ""間"",
							start: `${s}`,
							color: '#D4D2D2'
						});
					}
				}
				for (let e of ev) {
					console.log(e);
				}
				var calendarEl = document.getElementById('calendar');
				var calendar = new FullCalendar.Calendar(calendarEl, {
					initialView: 'dayGridMonth',
					//height: 500,
					//contentHeight: 60,
					eventColor: '#ffffff',
					eventTextColor: ""white"",
			");
            WriteLiteral(@"		// eventContent: function (arg) {
					//     console.log(arg);
					//   if (arg.event.title==='event1') {
					//       return { html: '<h1>' + arg.event.title +'</h1>' }
					//   } else {
					//       return { html: '<button>' + arg.event.title +'</button>' }
					//   }

					//},
					events: ev
				});
				calendar.render();


            });

			

            }
        },
        mounted: function () {

			var self = this;
			axios.get(""/Room_Condition/Get_Camping_Area"").then(function (res) {
                self.camplist = res.data;
				console.log(self.camplist);
                
                axios.get(""/Room_Condition/Get_Room"").then(function (res) {
					self.roomlist = res.data;
					console.log(self.roomlist);
					

				});
            });

			

        document.addEventListener('DOMContentLoaded', function() {
          var calendarEl = document.getElementById('calendar');
          var calendar = new FullCalendar.Calendar(calendarEl, {
           ");
            WriteLiteral(@"     initialView: 'dayGridMonth',
                //height: 500,
                //contentHeight: 60,
                eventColor:'#ffffff',
                eventTextColor:""black"",
                // eventContent: function (arg) {
                //     console.log(arg);
                //   if (arg.event.title==='event1') {
                //       return { html: '<h1>' + arg.event.title +'</h1>' }
                //   } else {
                //       return { html: '<button>' + arg.event.title +'</button>' }
                //   }

              //},
                events: [{
                    title: 'event1',
                    start: '2022-04-18',
                    description: 'HaHAHA'
                }, {
                    title: 'event2',
                    start: '2022-04-19',
                    description: 'HaHAHA'
                }, {
                    title: 'event3',
                    start: '2022-04-20',
                    description: 'HaHAHA'
          ");
            WriteLiteral("      }]\r\n            });\r\n            calendar.render();\r\n        });\r\n        }\r\n    });\r\n\r\n\r\n</script>\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
